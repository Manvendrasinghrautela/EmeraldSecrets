{% extends 'emails/base_email.html' %}

{% block title %}Order Confirmation - #{{ order.id }}{% endblock %}

{% block content %}
<h1>Thank You for Your Order! ðŸŽ‰</h1>

<p>Hi {{ order.user.first_name }},</p>

<p>We've received your order and it's being prepared with care. Here are your order details:</p>

<div class="highlight-box">
    <p><strong>Order Number:</strong> #{{ order.id }}</p>
    <p><strong>Order Date:</strong> {{ order.created_at|date:"M d, Y" }}</p>
    <p><strong>Order Total:</strong> â‚¹{{ order.total_amount }}</p>
</div>

<h2 style="font-size: 18px; margin-top: 30px; margin-bottom: 15px;">Order Items</h2>

<table style="width: 100%; border-collapse: collapse;">
    <thead>
        <tr style="background-color: #F5F3F1;">
            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #E5E5E5;">Product</th>
            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #E5E5E5;">Qty</th>
            <th style="padding: 12px; text-align: right; border-bottom: 2px solid #E5E5E5;">Price</th>
        </tr>
    </thead>
    <tbody>
        {% for item in order.items.all %}
        <tr>
            <td style="padding: 12px; border-bottom: 1px solid #E5E5E5;">{{ item.product.name }}</td>
            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #E5E5E5;">{{ item.quantity }}</td>
            <td style="padding: 12px; text-align: right; border-bottom: 1px solid #E5E5E5;">â‚¹{{ item.total }}</td>
        </tr>
        {% endfor %}
        <tr>
            <td colspan="2" style="padding: 12px; text-align: right; font-weight: bold;">Subtotal:</td>
            <td style="padding: 12px; text-align: right;">â‚¹{{ order.subtotal }}</td>
        </tr>
        <tr>
            <td colspan="2" style="padding: 12px; text-align: right; font-weight: bold;">Shipping:</td>
            <td style="padding: 12px; text-align: right;">â‚¹{{ order.shipping_fee }}</td>
        </tr>
        <tr style="background-color: #F5F3F1;">
            <td colspan="2" style="padding: 12px; text-align: right; font-weight: bold; font-size: 16px;">Total:</td>
            <td style="padding: 12px; text-align: right; font-weight: bold; font-size: 16px;">â‚¹{{ order.total_amount }}</td>
        </tr>
    </tbody>
</table>

<h2 style="font-size: 18px; margin-top: 30px; margin-bottom: 15px;">Shipping Address</h2>
<div class="highlight-box">
    <p>{{ order.shipping_address.first_name }} {{ order.shipping_address.last_name }}</p>
    <p>{{ order.shipping_address.address_line1 }}</p>
    {% if order.shipping_address.address_line2 %}
    <p>{{ order.shipping_address.address_line2 }}</p>
    {% endif %}
    <p>{{ order.shipping_address.city }}, {{ order.shipping_address.state }} - {{ order.shipping_address.postal_code }}</p>
    <p>Phone: {{ order.shipping_address.phone }}</p>
</div>

<center>
    <a href="{{ site_url }}/orders/{{ order.id }}" class="btn-primary">Track Your Order</a>
</center>

<p style="margin-top: 30px;">We'll send you another email once your order ships with tracking information.</p>

<p>Thank you for choosing Emerald Secrets!</p>
{% endblock %}
